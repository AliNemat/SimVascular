<html>
<head>
<title>File 'base/getopt.tcl' (part of 'Pool_Base')</title>
<link rel=stylesheet href="styles.css"
 type="text/css">
</head>
<body >
<h1>File 'base/getopt.tcl' (part of '<a href="pkg_Pool_Base.html" class="package">Pool_Base</a>')</h1>
<hr class="navbar">
<p class="navbar"><a href="index.htm" class="navbar">Home</a> | <a href="packages.html" class="index-package">Packages</a> | <a href="files.html" class="index-file">Files</a> | <a href="procs.html" class="index-procedure">Procedures</a> | <a href="classes.html" class="index-class">Classes</a> | <a href="namespaces.html" class="index-namespace">Namespaces</a> | <a href="keywords.html" class="index-keyword">Keywords</a> | <a href="deps.html" class="index-dependency">External packages</a> </p>
<hr class="navbar">

<div class="file-header">
<dl>
<dt><span class="header-title">Description (short)</span>
<dd><span class="header-description-value">Option processors</span>
<dt><span class="header-title">Written by</span>
<dd><span class="header-author-value"><a href="mailto:a.kupries@westend.com" class="file-header">Andreas Kupries</a></span>
<dt><span class="header-title">Description</span>
<dd><span class="header-description-title">Option processors useable for commandline processing, evaluation of argument lists given to vararg-procedures or evaluation of widget options.</span>
<dt><span class="header-title">Depends on</span>
<dd><span class="header-value"><a href="http://www.scriptics.com/" class="xref-dep">Tcl</a></span>
<dt><span class="header-title">Keywords</span>
<dd><span class="header-value">option processing,  commandline processing,  vararg procedures,  widget options</span>
</dl>
</div>
<hr class="file">
<ul class="proc-listing">
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_boolean" class="proc">::pool::getopt::boolean</a> <span class="arg-list">(o v)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_changeDefault" class="proc">::pool::getopt::changeDefault</a> <span class="arg-list">(optDef option newDefault)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_checkValues" class="proc">::pool::getopt::checkValues</a> <span class="arg-list">(optDef optVal)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_defAlias" class="proc">::pool::getopt::defAlias</a> <span class="arg-list">(optDef alias option)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_defOption" class="proc">::pool::getopt::defOption</a> <span class="arg-list">(optDef option args)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_defShortcuts" class="proc">::pool::getopt::defShortcuts</a> <span class="arg-list">(optDef)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_initValues" class="proc">::pool::getopt::initValues</a> <span class="arg-list">(optDef optVal)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_integer" class="proc">::pool::getopt::integer</a> <span class="arg-list">(o v)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_nonempty" class="proc">::pool::getopt::nonempty</a> <span class="arg-list">(o v)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_notype" class="proc">::pool::getopt::notype</a> <span class="arg-list">(o v)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_number" class="proc">::pool::getopt::number</a> <span class="arg-list">(o v)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_parseArguments" class="proc">::pool::getopt::parseArguments</a> <span class="arg-list">(optDef optList optVal)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_process" class="proc">::pool::getopt::process</a> <span class="arg-list">(optDef optlist optval)</span>
<li class="proc-listing"><a href="f_base_getopt.tcl.html#p_pool_getopt_processOpt" class="proc">::pool::getopt::processOpt</a> <span class="arg-list">(optDef optlist optval)</span>
</ul>
<hr class="file">
<a name="p_pool_getopt_boolean"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::boolean</span> <span class="arg-list">(o v)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">This type checker accepts only boolean values as recognized by the core function Tcl_GetBoolean.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: o
</td>
<td class="argument-description">
The option whose value is checked.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: v
</td>
<td class="argument-description">
The value to check.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: A boolean value. True if <span class="argument"><span class="proc">v</span></span> contained a boolean value.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_changeDefault"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::changeDefault</span> <span class="arg-list">(optDef option newDefault)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Convenience procedure easing the way to change the default value of an option.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array holding the option definition.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: option
</td>
<td class="argument-description">
The name of the change to change.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: newDefault
</td>
<td class="argument-description">
The new value to use as default.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_checkValues"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::checkValues</span> <span class="arg-list">(optDef optVal)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Checks the values in the given array using the type checker procedures mentioned in the definition array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array containing the option and alias definitions and their type checkers.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optVal
</td>
<td class="argument-description">
The name of the array containing the values to check
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_defAlias"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::defAlias</span> <span class="arg-list">(optDef alias option)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Convenience procedure helping in the setup of an array containing option and alias definitions. Shields users from the internal representation of an option/alias definition. This procedure places an alias definition into the array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array to place the new definition into.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: alias
</td>
<td class="argument-description">
The name of the new alias, without a preceding '-'.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: option
</td>
<td class="argument-description">
The name of the option the alias refers to, without a preceding '-'.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_defOption"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::defOption</span> <span class="arg-list">(optDef option args)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Convenience procedure helping in the setup of an array containing option and alias definitions. Shields users from the internal representation of an option/alias definition. This procedure places an option definition into the array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array to place the new definition into.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: option
</td>
<td class="argument-description">
The name of the specified option, without a preceding '-'.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: args
</td>
<td class="argument-description">
The specification, given as &lt;option,value&gt;-pairs. Processed options are -type and -default.<br>
 '-type' will accept every non-empty string and defaults to <span class="xref-procs"><a href="f_base_getopt.tcl.html#p_pool_getopt_notype" class="proc">::pool::getopt::notype</a></span>. The value will be interpreted later as the name of a procedure having 2 arguments and returning a boolean value. The arguments will be the name of an option and the value given to it, in this order. A result of 'false' will be interpreted as 'The value given to the option is illegal'.<br>
 '-default' will accept everything and defaults to the empty string.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_defShortcuts"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::defShortcuts</span> <span class="arg-list">(optDef)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Computes the full set of unique shortcuts for a given a set of option definitions and adds these as aliases to the array. Existing aliases are treated like options.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array to place the shortcuts into.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_initValues"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::initValues</span> <span class="arg-list">(optDef optVal)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Initializes the given storage array with the default values of the options in the definition array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array containing the option and alias definitions and their default values
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optVal
</td>
<td class="argument-description">
The name of the array to initalize.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_integer"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::integer</span> <span class="arg-list">(o v)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">This type checker accepts only integer numbers.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: o
</td>
<td class="argument-description">
The option whose value is checked.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: v
</td>
<td class="argument-description">
The value to check.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: A boolean value. True if <span class="argument"><span class="proc">v</span></span> contained an integer.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_nonempty"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::nonempty</span> <span class="arg-list">(o v)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">This type checker accepts every value different from the emtpy string/list</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: o
</td>
<td class="argument-description">
The option whose value is checked.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: v
</td>
<td class="argument-description">
The value to check.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: A boolean value. True if <span class="argument"><span class="proc">v</span></span> was not the empty string/list.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_notype"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::notype</span> <span class="arg-list">(o v)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">This type checker does no checking at all, it just accepts everything given to it.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: o
</td>
<td class="argument-description">
The option whose value is checked.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: v
</td>
<td class="argument-description">
The value to check.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Always true, signaling acceptance of the value in <span class="argument"><span class="proc">v</span></span>.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_number"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::number</span> <span class="arg-list">(o v)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">This type checker accepts all numbers, it makes no distinction between integers and floats.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: o
</td>
<td class="argument-description">
The option whose value is checked.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: v
</td>
<td class="argument-description">
The value to check.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: A boolean value. True if <span class="argument"><span class="proc">v</span></span> contained a number.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_parseArguments"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::parseArguments</span> <span class="arg-list">(optDef optList optVal)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">This is the main parser procedure.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array containing the option and alias definitions to recognize here.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optList
</td>
<td class="argument-description">
The name of the variable containing the list of arguments to parse.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optVal
</td>
<td class="argument-description">
The name of the array to hold the found values.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_process"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::process</span> <span class="arg-list">(optDef optlist optval)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Parses <span class="argument"><span class="proc">optlist</span></span> as a list of option-value pairs followed by normal arguments. The end of the option sequence is detected by the presence of arguments not beginning with '-' or the single option '--'. Only options and aliases defined in <span class="argument"><span class="proc">optDef</span></span> are allowed. Values given to an alias are stored under the name of the option, *not* the alias. All values are stored in the array <span class="argument"><span class="proc">optval</span></span>. The option-names are used as keys, including the '-'! The storage array is initialized with the default values of the allowed options. The moment all option values are known and not changing anymore the 'type' procedures are called with option-names and -values to determine the legality of the specified value. The return value 'False' signals an illegal value.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array containing the option and alias definitions to recognize.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optlist
</td>
<td class="argument-description">
The list of arguments to parse.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optval
</td>
<td class="argument-description">
The name of the array to hold the found values.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: A list containing the arguments not processed here.
</td>
</tr>
</table>
</p>
<a name="p_pool_getopt_processOpt"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::getopt::processOpt</span> <span class="arg-list">(optDef optlist optval)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Basically the same functionality as <span class="xref-procs"><a href="f_base_getopt.tcl.html#p_pool_getopt_process" class="proc">::pool::getopt::process</a></span>, but with the following differences:<br>
 The storage array is *not* initialized with the default values.<br>
 The &lt;optlist&gt; must not contain arguments after the &lt;option,value&gt;-sequence.<br>
 There is no return value.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optDef
</td>
<td class="argument-description">
The name of the array containing the option and alias definitions to recognize here.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optlist
</td>
<td class="argument-description">
The list of arguments to parse.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: optval
</td>
<td class="argument-description">
The name of the array to hold the found values.
</td>
</tr>
</table>
</p>
<hr class="navbar">
<p class="navbar"><a href="index.htm" class="navbar">Home</a> | <a href="packages.html" class="index-package">Packages</a> | <a href="files.html" class="index-file">Files</a> | <a href="procs.html" class="index-procedure">Procedures</a> | <a href="classes.html" class="index-class">Classes</a> | <a href="namespaces.html" class="index-namespace">Namespaces</a> | <a href="keywords.html" class="index-keyword">Keywords</a> | <a href="deps.html" class="index-dependency">External packages</a> </p>
<hr class="navbar">

<hr>
<p class="generated-by">Generated by <a href="http://www.oche.de/~akupries/soft/autodoc/index.htm" class="generated-by">AutoDoc 2.4</a> at 09/14/2000, invoked by <a href="mailto:a.kupries@westend.com" class="generated-by">Andreas Kupries</a></p>
</body>
</html>
