<html>
<head>
<title>File 'net/mail/message.tcl' (part of 'Pool_Net')</title>
<link rel=stylesheet href="styles.css"
 type="text/css">
</head>
<body >
<h1>File 'net/mail/message.tcl' (part of '<a href="pkg_Pool_Net.html" class="package">Pool_Net</a>')</h1>
<hr class="navbar">
<p class="navbar"><a href="index.htm" class="navbar">Home</a> | <a href="packages.html" class="index-package">Packages</a> | <a href="files.html" class="index-file">Files</a> | <a href="procs.html" class="index-procedure">Procedures</a> | <a href="classes.html" class="index-class">Classes</a> | <a href="namespaces.html" class="index-namespace">Namespaces</a> | <a href="keywords.html" class="index-keyword">Keywords</a> | <a href="deps.html" class="index-dependency">External packages</a> </p>
<hr class="navbar">

<div class="file-header">
<dl>
<dt><span class="header-title">Description (short)</span>
<dd><span class="header-description-value">Mail manipulation, defined in separate namespace, tcl 8.x only.</span>
<dt><span class="header-title">Written by</span>
<dd><span class="header-author-value"><a href="mailto:a.kupries@westend.com" class="file-header">Andreas Kupries</a></span>
<dt><span class="header-title">Description</span>
<dd><span class="header-description-title">Mail manipulation functionality, from the simple to the arcane (not yet?)</span>
<dt><span class="header-title">Depends on</span>
<dd><span class="header-value"><a href="http://www.scriptics.com/" class="xref-dep">Tcl</a></span>
<dt><span class="header-title">Keywords</span>
<dd><span class="header-value">Mail manipulation,  Header manipulation,  RFC 821,  RFC 822</span>
</dl>
</div>
<hr class="file">
<ul class="proc-listing">
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_address" class="proc">::pool::mail::address</a> <span class="arg-list">(text)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_addressB" class="proc">::pool::mail::addressB</a> <span class="arg-list">(text default)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_addresses" class="proc">::pool::mail::addresses</a> <span class="arg-list">(text)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_analyse" class="proc">::pool::mail::analyse</a> <span class="arg-list">(message)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_body" class="proc">::pool::mail::body</a> <span class="arg-list">(message)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_build" class="proc">::pool::mail::build</a> <span class="arg-list">(msgvar)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_header" class="proc">::pool::mail::header</a> <span class="arg-list">(message)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_headerAnalyse" class="proc">::pool::mail::headerAnalyse</a> <span class="arg-list">(header)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_invisibleRecipients" class="proc">::pool::mail::invisibleRecipients</a> <span class="arg-list">(msgvar)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_recipients" class="proc">::pool::mail::recipients</a> <span class="arg-list">(msgvar)</span>
<li class="proc-listing"><a href="f_net_mail_message.tcl.html#p_pool_mail_sender" class="proc">::pool::mail::sender</a> <span class="arg-list">(msgvar)</span>
</ul>
<hr class="file">
<a name="p_pool_mail_address"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::address</span> <span class="arg-list">(text)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Extracts a valid rfc821 address from <span class="argument"><span class="proc">text</span></span>. Copied from 'Exmh/lib/msgShow.tcl' (copyright: <a href="mailto:bwelch@scriptics.com" class="xref-xref">Brent Welch</a>)</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: text
</td>
<td class="argument-description">
The string to search for a mail address
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Hopefully a valid mail address.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_addressB"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::addressB</span> <span class="arg-list">(text default)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">see RFC 821 on mail messages originally copied from 'Exmh/lib/msgShow.tcl'. Added comments and default argument. A variant of <span class="xref-procs"><a href="f_net_mail_message.tcl.html#p_pool_mail_address" class="proc">::pool::mail::address</a></span>, returns the <span class="argument"><span class="proc">default</span></span> if no address could be recognized.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: text
</td>
<td class="argument-description">
Text check for an embedded email address.
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: default (= {})
</td>
<td class="argument-description">
value to use if no address was extractable.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: The email address embedded in <span class="argument"><span class="proc">text</span></span> or the <span class="argument"><span class="proc">default</span></span>.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_addresses"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::addresses</span> <span class="arg-list">(text)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Extracts a list of address from <span class="argument"><span class="proc">text</span></span>. They must be separated by ,</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: text
</td>
<td class="argument-description">
The string to search for a mail addresses
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Hopefully a list of valid mail addresses.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_analyse"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::analyse</span> <span class="arg-list">(message)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Transforms the whole <span class="argument"><span class="proc">message</span></span> into a form suitable for 'array set'. The body is stored as pseudo header 'x-body:'.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: message
</td>
<td class="argument-description">
String containing the message to be analysed.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Returns a list of header keywords and associated contents.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_body"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::body</span> <span class="arg-list">(message)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Extract the body of <span class="argument"><span class="proc">message</span></span>.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: message
</td>
<td class="argument-description">
String containing the message to be analysed.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Return body of <span class="argument"><span class="proc">message</span></span>.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_build"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::build</span> <span class="arg-list">(msgvar)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Takes an array containing headers and body of a message (same format as generated by <span class="xref-procs"><a href="f_net_mail_message.tcl.html#p_pool_mail_analyse" class="proc">::pool::mail::analyse</a></span>) and builds a message string.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: msgvar
</td>
<td class="argument-description">
Name of the array variable containing the message in split form
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: A message suitable for transmission
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_header"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::header</span> <span class="arg-list">(message)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Extract the headers from the <span class="argument"><span class="proc">message</span></span>.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: message
</td>
<td class="argument-description">
String containing the message to be analysed.
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Return headers of <span class="argument"><span class="proc">message</span></span>.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_headerAnalyse"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::headerAnalyse</span> <span class="arg-list">(header)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Transform the message <span class="argument"><span class="proc">header</span></span> into a form suitable to 'array set'. Multiple instances of the same header are merged into one (Received:). Continuation lines are merged into a single line.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: header
</td>
<td class="argument-description">
String containing the headers to be analysed
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: List suitable for 'array set', mapping header keywords to their contents. Keywords are all lowercase.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_invisibleRecipients"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::invisibleRecipients</span> <span class="arg-list">(msgvar)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Retrieves the recipients of the message which are invisible to all others from the given array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: msgvar
</td>
<td class="argument-description">
Name of the array variable containing the message in split form
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: List of addresses
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_recipients"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::recipients</span> <span class="arg-list">(msgvar)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Retrieves the recipients of the message from the given array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: msgvar
</td>
<td class="argument-description">
Name of the array variable containing the message in split form
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Mail addresses of the recipients.
</td>
</tr>
</table>
</p>
<a name="p_pool_mail_sender"></a>
<p class="proc"><table border width=100% class="proc">
<tr class="proc">
<td colspan=2 class="proc">
<h2 class="proc"><span class="proc-name">::pool::mail::sender</span> <span class="arg-list">(msgvar)</span></h2>
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="header-description-value">Retrieves the sender of the message from the given array.</span>
</td>
</tr>
<tr class="proc">
<td class="argument-name">
<span class="argument-name">Argument</span>: msgvar
</td>
<td class="argument-description">
Name of the array variable containing the message in split form
</td>
</tr>
<tr class="proc">
<td colspan=2 class="proc">
<span class="proc">Returns</span>: Mail address of sender.
</td>
</tr>
</table>
</p>
<hr class="navbar">
<p class="navbar"><a href="index.htm" class="navbar">Home</a> | <a href="packages.html" class="index-package">Packages</a> | <a href="files.html" class="index-file">Files</a> | <a href="procs.html" class="index-procedure">Procedures</a> | <a href="classes.html" class="index-class">Classes</a> | <a href="namespaces.html" class="index-namespace">Namespaces</a> | <a href="keywords.html" class="index-keyword">Keywords</a> | <a href="deps.html" class="index-dependency">External packages</a> </p>
<hr class="navbar">

<hr>
<p class="generated-by">Generated by <a href="http://www.oche.de/~akupries/soft/autodoc/index.htm" class="generated-by">AutoDoc 2.4</a> at 09/14/2000, invoked by <a href="mailto:a.kupries@westend.com" class="generated-by">Andreas Kupries</a></p>
</body>
</html>
