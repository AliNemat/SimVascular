<html><head><title>Server framework</title><link rel=stylesheet href="styles.css"
type="text/css"></head><body ><h1>Server framework</h1><hr class="navbar"><p class="navbar"><a href="index.htm" class="navbar">Home</a> | <a href="packages.html" class="index-package">Packages</a> | <a href="files.html" class="index-file">Files</a> | <a href="procs.html" class="index-procedure">Procedures</a> | <a href="classes.html" class="index-class">Classes</a> | <a href="namespaces.html" class="index-namespace">Namespaces</a> | <a href="keywords.html" class="index-keyword">Keywords</a> | <a href="deps.html" class="index-dependency">External packages</a></p><hr class="navbar"><p>The framework in <a href="cserver.html" class="file">net/server.cls</a> was written to
ease the implementation of various internet protocol servers
(smtp, pop3, ...).</p><p>Servers for specific a protocol have to derive from the baseclass <a href="cserver.html" class="class">server</a>. The latter is then configured by <ul><li>setting the member variables <a href="cserver.html" class="class">server</a>:<a href="cserver.html#vport" class="xref-vref">port</a>and <a href="cserver.html" class="class">server</a>:<a href="cserver.html#vcmdMap" class="xref-vref">cmdMap</a><li>and overiding the 3 methods <a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_InitializeNewConnection" class="proc">InitializeNewConnection</a>,<a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_GreetPeer" class="proc">GreetPeer</a> and <a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_CloseConnection" class="proc">CloseConnection</a>.
Another method, <a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_HandleUnknownCmd" class="proc">HandleUnknownCmd</a>, has an
implementation which should be sufficient for most cases</ul></p><table border><tr><th>What</th><th>Required</th><th>Meaning</th></tr><tr><td><a href="cserver.html" class="class">server</a>:<a href="cserver.html#vport" class="xref-vref">port</a></td><td>+</td><td>Symbolic or numeric specification of the tcp port
the server shall listen on for new connections.
Examples: '1234', 'pop3'.</td></tr><tr><td><a href="cserver.html" class="class">server</a>:<a href="cserver.html#vcmdMap" class="xref-vref">cmdMap</a></td><td>+</td><td>Defines the mapping between commands and the methods handling
them. Upper and lower case will not be distinguished in command
names. The methods will be called with 3 arguments: connection
id, command to handle and the complete line as sent by the client.
Use <a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_SetCmdMap" class="proc">SetCmdMap</a> to define it in a convenient way.</td></tr><tr><td><a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_GreetPeer" class="proc">GreetPeer</a></td><td>-</td><td>Called after initialization of a new connection. Is
responsible for sending a server and connection specific
greeting message to the new client.</td></tr><tr><td><a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_HandleUnknownCmd" class="proc">HandleUnknownCmd</a></td><td>-</td><td>Called if the received command was not found in the <a href="cserver.html" class="class">server</a>:<a href="cserver.html#vcmdMap" class="xref-vref">cmdMap</a>. Gets the same arguments as a
normal handler method. Should send a server specific
error message to the client. The standard implementation
just does a shutdown of the connection.</td></tr><tr><td><a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_InitializeNewConnection" class="proc">InitializeNewConnection</a></td><td>-</td><td>Defaults to an empty method. Is called to perform server
specific initialization of a new connection. The general
initialization is already done. One argument, the connection id.</td></tr><tr><td><a href="cserver.html" class="class">server</a>:<a href="cserver.html#pserver_CloseConnection" class="proc">CloseConnection</a></td><td>-</td><td>Defaults to an empty method. Is called to perform server specific
cleanup of a connection. The general cleanup is already done.
One argument, the connection id.</td></tr></table><p>An example of its usage can be found in <a href="cpop3Server.html" class="file">net/pop3/server.cls</a></p><hr><p class="generated-by">Generated by <a href="http://www.oche.de/~akupries/soft/autodoc/index.htm" class="generated-by">AutoDoc 2.4</a> at 09/14/2000, invoked by <a href="mailto:a.kupries@westend.com" class="generated-by">Andreas Kupries</a></p></body></html>