<html>
<head>
<title>Memchan: Compilation on Unix</title>
<meta name="Author" content="Andreas Kupries">
<meta name="sitemap" content="self:memchan_cunix">
<meta name="sitemap" content="desc:Compilation on Unix">
<meta name="sitemap" content="parent:memchan_compile">
</head>
<body >
<h1>Compilation on Unix</h1>
<hr>
<p align=center><font size=7><b>[</b></font> <img src="img/up.gif" alt="Up"><a href="memchan_compile.html">Compilation</a> <font size=7><b>|</b></font>  <a href="sitemap.html">Sitemap</a> <font size=7><b>]</b></font> &#160;&#160;&#160;&#160;&#160; </p>
<hr>
<p>
	There are several different flavors of Un*x out there in this small
	world. A <b>configure</b> script, as generated by <b>GNU
	autoconf</b>, is provided to handle them all together.</p>
<ul>
<li><p>Simply type:</p>
<ul>
<li>configure
<li>make
</ul>
<p>
		The makefile will then check number and names of the files in
		the package, generate dependency information, compile them and
		at last build the library.</p>

<li>
	    In contrast to earlier versions <b>the system will build
	    a shared library by default</b>. Give option <tt>--disable-shared</tt>
	    to <tt>configure</tt> if this is not desired.
<li>
	    To check the extension, type <tt>make test</tt> or
	    <tt>make check</tt>. This will build a tclsh containing just <a href="http://www.scriptics.com/"><tt>tcl</tt></a>
	    and memchan, and then runs some test-scripts checking the
	    behaviour of the created library.
<li>
	    At last type <tt>make install</tt> to install the generated
	    library and the exported header. This installation conforms to
	    the rules set by the package loader mechanism of the tcl-core.
</ul>
<p>
	You do have a non-standard setup (tcl not installed below
	<tt>/usr/local</tt>) ?</p>
<p>
	Don't fret, there are some tuning options for <tt>configure</tt> to help
	you.</p>
<ul>
<li><p>
		The configure script searches the core header <tt>tcl.h</tt> in
		the following places:</p>
<ol>
<li>$(TCL_INCLUDE_DIR)
<li><tt>../../tcl8.2*/generic</tt>
<li><tt>../../tcl8.1*/generic</tt>
<li><tt>../../tcl8.0*/generic</tt>
<li><tt>../../tcl/generic</tt>
<li><tt>../../tcl</tt>
<li>$(prefix)
<li><tt>/usr/local/include</tt>
<li><tt>/usr/include</tt>
</ol>
<p>
		By default $(TCL_INCLUDE_DIR) is empty and $(prefix) points
		to the location of an installed 'tclsh' or is
		<tt>/usr/local</tt> if <tt>tclsh</tt> could not be found via $PATH.</p>
<p>There are three options to override these defaults:</p>
<table>
<tr valign=top>
<td><b>--prefix=DIR</b></td>
<td>
<p>$(prefix)=DIR</p>
</td>
</tr>
<tr valign=top>
<td><b>--with-tcl=DIR</b></td>
<td>
<p>$(TCL_INCLUDE_DIR)=DIR/include</p>
</td>
</tr>
<tr valign=top>
<td><b>--with-tcl-include-dir=DIR</b></td>
<td>
<p>$(TCL_INCLUDE_DIR)=DIR</p>
</td>
</tr>
</table>

<li><p>
		To find <tt>libtcl.a</tt> (or <tt>libtcl.so.??</tt>) the
		paths</p>
<ol>
<li>$(TCL_LIB_DIR)
<li><tt>../../tcl8.2*/unix</tt>
<li><tt>../../tcl8.1*/unix</tt>
<li><tt>../../tcl8.0*/unix</tt>
<li><tt>../../tcl/unix</tt>
<li><tt>../../tcl</tt>
<li>$(exec_prefix)
<li><tt>/usr/local/include</tt>
<li><tt>/usr/include</tt>
</ol>
<p>
		are searched. $(TCL_LIB_DIR) is empty by default, but
		can be set via</p>
<table>
<tr valign=top>
<td><b>--with-tcl=DIR</b></td>
<td>
<p>$(TCL_LIB_DIR)=DIR/lib</p>
</td>
</tr>
<tr valign=top>
<td><b>--with-tcl-lib-dir=DIR</b></td>
<td>
<p>$(TCL_LIB_DIR)=DIR</p>
</td>
</tr>
</table>
<p>
		$(exec_prefix) contains the same value as $(prefix) by
		default, but can be set explicitly via <tt>--exec-prefix</tt>.</p>

</ul>

<hr>
<address><a href="memchan_ack.html">&#169;</a> <a href="mailto:a.kupries@westend.com">Andreas Kupries</a></address>
<p>Last update at Wed Oct 04 20:37:32 MEST 2000</p>
</body>
</html>
